@model WebApplication3.Models.Review
@{
    ViewBag.Title = "GamesReviews";
}


@helper CreateList(IEnumerable<WebApplication3.Models.Review> all)
{
    <ul>
        @foreach (var s in all)
        {
            {
                <li>@s.ReviewScore @s.ReviewText </li>
            }
        }
    </ul>
}



@{
    var reviewList = new SelectList(ViewBag.Reviews, "GameId", "ReviewText");
    var Range = new SelectList(ViewBag.Users, "Value", "Text");
}

@if (ViewBag.Status != null && Convert.ToBoolean(ViewBag.Status))
{
    if (ViewBag.Message != null)
    {
        <div class="alert alert-success">
            <strong>Success!</strong>{ 
                @foreach(var a in Range)
                    {
                        @a.Text
                    }
            }
            

        </div>
        @CreateList(ViewBag.Reviews)
    }
}

@using (Html.BeginForm())
{
    
    @Html.AntiForgeryToken()
<div>
    @Html.LabelFor(model => model.GameId, "Выбор игры", htmlAttributes: new { @class = "control-label col-md-2" })
    <div>
        @Html.DropDownListFor(model => model.GameId, new SelectList(ViewBag.Games, "GameId", "GameName"))
    </div>
    <input type="submit" , value="Показать отзывы">
</div>












}










@section Scripts{
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
}